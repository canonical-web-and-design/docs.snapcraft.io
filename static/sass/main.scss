@charset "utf-8";

// Settings
// ===

// colour definitions
$color-brand: #00302f; // TODO: this is a temprary brand colour
$color-accent: $color-brand;
$color-navigation-background: #252525;

// Increase paragraph max-width to accommodate iframes
$p-max-width: 52em;

// Custom docs styling
$grid-max-width: 80rem;
$content-padding: 0 5%;
$sidebar-width: 16rem;
$toc-width: $sidebar-width * .75;

// Imports
// ===

// vanilla patterns
@import 'vanilla-framework/scss/vanilla';
@include vanilla;

// Overrides from snapcraft.io
@import 'snapcraft_p-navigation';
@include snapcraft-p-navigation;
@import 'snapcraft_footer';
@include snapcraft-footer;
@import 'patterns_social-icons';
@include p-social-icons;

// Local custom elements
@import 'layout_docs';
@import 'patterns_sidenav';

// Modules
@import 'hljs-default';

// Vanilla fixes
// ===

// Fix for long words overflowing to create vertical scrollbars
// https://github.com/vanilla-framework/vanilla-framework/issues/1985
p, li {
  word-break: break-word;
}

// Fix Vanilla <blockquote> spacing
// https://github.com/vanilla-framework/vanilla-framework/issues/1988
blockquote {
  & > :last-child {
    margin-bottom: 0;
  }

  padding-bottom: 0.4rem;
  margin-bottom: 1.1rem;
}

// Reset HighlightJS styling for <code> blocks
// (they clash with Vanilla styling)
// https://github.com/vanilla-framework/vanilla-framework/issues/1987
.hljs {
  padding: 0;
  background: none;
}

// Discourse adds "emoji" <img>s, which are huge
// They need to be constrained
.emoji {
  height: 1rem;
}

// Discourse adds "lightbox" markup to images, including "meta" elements.
// We need to make them look reasonable
.lightbox-wrapper {
  padding-top: 0.4rem;
  margin-bottom: 1.1rem;
}
.meta {
  display: none;
}
// Vanilla adds margin-top: -1.1rem, which messes up spacing on empty <p>s
// https://github.com/vanilla-framework/vanilla-framework/issues/2019
p:empty + p:not(.p-muted-heading), p + p:not(.p-muted-heading):empty, p:empty + p:not(.p-muted-heading):empty {
  margin-top: 0;
}

// Improve heading stylez
.docs-title, .docs-title[class^='p-strip'] {
  @media only screen and (min-width: 1030px) {
    padding-bottom: 0;
    background-color: transparent;
  }

  @media only screen and (max-width: 1030px) {
    padding-bottom: 0;
    background-color: transparent;
  }
}
.docs-title__heading {
  padding-bottom: 1rem;
  border-bottom: 1px solid $color-mid-light;
}



.l-docs {
  width: 100%;
}

p {max-width: 48em}

/////////////////////////////////////////////////////////////////////////////////

$breakpoint-x-large: 1681px;
$width-base: 1200/16 * 1rem;
$fontsize-bigscreen: 1rem * 18/16;
$gutters_total: 2 * 1.5 * 1rem;

html {
  @media (min-width: $breakpoint-x-large) {
    font-size: $fontsize-bigscreen;
  }
}

.row,
.global-nav__header-row.global-nav__row[style],
.l-docs {
    max-width: $width-base - $gutters_total!important;
}
